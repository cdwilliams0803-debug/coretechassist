<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Core Tech Assist | Simple Tech. Real Support.</title>

  <meta
    name="description"
    content="Straightforward IT support for homes and small businesses. Hardware troubleshooting, Wi-Fi and network fixes, custom PC builds, and front-end website support."
  />

  <!-- Social Preview Control -->
  <meta property="og:title" content="Core Tech Assist | Simple Tech. Real Support.">
  <meta property="og:description" content="Straightforward IT support for homes and small businesses. Hardware troubleshooting, Wi-Fi and network fixes, custom PC builds, and front-end website support.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://ctechassist.org/">
  <meta property="og:image" content="https://ctechassist.org/Web_250x150.png">
  <meta property="og:image:width" content="250">
  <meta property="og:image:height" content="150">
  <meta property="og:image:alt" content="Core Tech Assist Logo">

  <!-- Twitter / X -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Core Tech Assist | Simple Tech. Real Support.">
  <meta name="twitter:description" content="Straightforward IT support for homes and small businesses">
  <meta name="twitter:image" content="https://ctechassist.org/Web_250x150.png">
  <meta name="twitter:image:alt" content="Core Tech Assist Logo">

  <link rel="icon" href="Web_250x150.png" />
  <link rel="stylesheet" href="style.css" />

  <!-- Brand overrides (amber/black) + HERO background robot watermark -->
  <style>
    :root{
      --accent:#ff8c00;
      --accent-2:#ffb347;
      --accent-glow:#ff6a00;
      --bg:#050607;
    }

    body{
      background:
        radial-gradient(900px 500px at 85% 15%, rgba(255,140,0,.08), transparent 60%),
        radial-gradient(1000px 700px at 50% 100%, rgba(255,106,0,.06), transparent 70%),
        var(--bg);
    }

    /* HERO: put transparent robot BEHIND the kicker area (Local-minded support...) */
    .hero-card{
      position: relative;
      overflow: hidden;
    }

    .hero-card::after{
      content:"";
      position:absolute;
      left: -10px;
      top: -16px;
      width: 630px;
      height: 630px;

      background-image: url("https://i.postimg.cc/63gq0kN3/robot-transparent.png");
      background-repeat:no-repeat;
      background-size:contain;
      background-position:center;

      opacity:.14;              /* transparency level */
      pointer-events:none;
      z-index:0;

      animation: heroRobotFloat 8.5s ease-in-out infinite;
      will-change: transform;
    }

    .hero-card > *{
      position: relative;
      z-index: 2;
    }

    @keyframes heroRobotFloat{
      0%,100%{ transform: translateY(0) translateX(0) rotate(0deg); }
      50%{ transform: translateY(12px) translateX(6px) rotate(-0.6deg); }
    }

    @media (max-width: 520px){
      .hero-card::after{
        width:180px;
        height:180px;
        left:-10px;
        top:-12px;
        opacity:.11;
      }
    }
  </style>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-JJLZNXC5J6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-JJLZNXC5J6');
  </script>

  <!-- =====================================================
       ROBOT SLIDE-IN POPUP (ONLY POPUP)
       - Small premium circle
       - No blink
       - Same behavior + logic
       ===================================================== -->
  <style>
    /* Screen-reader only */
    .sr-only{
      position:absolute !important;
      width:1px;height:1px;
      padding:0;margin:-1px;
      overflow:hidden;clip:rect(0,0,0,0);
      white-space:nowrap;border:0;
    }

    /* ========= ROBOT CTA WRAP ========= */
    .robot-cta-wrap{
      position: fixed;
      left: 18px;
      bottom: 18px;
      z-index: 3000;
      display: flex;
      align-items: flex-end;
      gap: 14px;

      transform: translateY(160%);
      opacity: 0;
      pointer-events: none;

      transition: transform .55s cubic-bezier(.2,.8,.2,1), opacity .55s cubic-bezier(.2,.8,.2,1);
      will-change: transform, opacity;
    }

    .robot-cta-wrap.open{
      transform: translateY(0);
      opacity: 1;
      pointer-events: auto;
    }

    /* Hover: subtle lift */
    .robot-cta-wrap.open:hover{
      transform: translateY(-6px);
    }

    /* ========= PREMIUM SMALL AVATAR ========= */
    .robot-avatar{
      width: 88px;                 /* smaller circle */
      height: 88px;
      border-radius: 999px;
      overflow: hidden;
      position: relative;
      padding: 8px;

      background: radial-gradient(80px 80px at 35% 30%, rgba(255,140,0,.18), rgba(0,0,0,.92));
      border: 2px solid rgba(255,140,0,.70);

      box-shadow:
        0 16px 40px rgba(0,0,0,.55),
        0 0 18px rgba(255,140,0,.22),
        0 0 0 1px rgba(255,140,0,.16);

      animation: robotGlow 3.2s ease-in-out infinite;
    }

    .robot-avatar img{
      width: 100%;
      height: 100%;
      object-fit: contain;          /* keeps it clean */
      display: block;
      transform: none;
      filter: brightness(1.12) contrast(1.08);
    }

    @keyframes robotGlow{
      0%,100%{
        box-shadow:
          0 16px 40px rgba(0,0,0,.55),
          0 0 16px rgba(255,140,0,.18),
          0 0 0 1px rgba(255,140,0,.14);
        border-color: rgba(255,140,0,.62);
      }
      50%{
        box-shadow:
          0 18px 44px rgba(0,0,0,.60),
          0 0 22px rgba(255,140,0,.26),
          0 0 0 1px rgba(255,140,0,.18);
        border-color: rgba(255,140,0,.82);
      }
    }

    /* ========= BUBBLE ========= */
    .robot-bubble{
      width: min(420px, calc(100vw - 140px)); /* tuned for smaller avatar */
      border-radius: 18px;
      padding: 16px 16px 14px;
      position: relative;

      background:
        radial-gradient(360px 200px at 15% 0%, rgba(255,140,0,.16), transparent 60%),
        radial-gradient(300px 190px at 100% 40%, rgba(255,255,255,.10), transparent 55%),
        linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)),
        #000;

      border: 1px solid rgba(255,140,0,.70);

      box-shadow:
        0 26px 84px rgba(0,0,0,.70),
        0 0 22px rgba(255,140,0,.16);
      color: #fff;
    }

    /* Tail */
    .robot-bubble::before{
      content:"";
      position:absolute;
      left:-12px;
      bottom: 22px;
      width: 0; height: 0;
      border-top: 12px solid transparent;
      border-bottom: 12px solid transparent;
      border-right: 12px solid rgba(255,140,0,.70);
    }
    .robot-bubble::after{
      content:"";
      position:absolute;
      left:-11px;
      bottom: 22px;
      width: 0; height: 0;
      border-top: 11px solid transparent;
      border-bottom: 11px solid transparent;
      border-right: 11px solid #000;
    }

    /* Close button */
    .robot-close{
      position:absolute;
      top: 10px;
      right: 10px;
      width: 34px;
      height: 34px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.05);
      color: rgba(255,255,255,.92);
      cursor: pointer;
      font-size: 20px;
      line-height: 1;
      transition: transform .16s cubic-bezier(.2,.8,.2,1), background .16s cubic-bezier(.2,.8,.2,1);
    }
    .robot-close:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,.08);
    }

    .robot-bubble h3{
      margin: 0 44px 8px 0;
      font-size: 1.15rem;
      letter-spacing: .1px;
      color: rgba(255,255,255,.96);
      text-shadow: 0 1px 0 rgba(255,255,255,.12);
    }

    .robot-bubble p{
      margin: 0 0 12px;
      color: rgba(255,255,255,.78);
      font-size: .95rem;
      line-height: 1.35;
    }

    .robot-bubble strong{ color: var(--accent-2); }

    .robot-bubble form{
      display: grid;
      grid-template-columns: 1fr auto;
      gap: 10px;
      align-items: center;
      margin-top: 10px;
    }

    .robot-bubble input[type="email"]{
      width: 100%;
      padding: 12px 14px;
      border-radius: 12px;
      background: rgba(255,255,255,.05);
      border: 1px solid rgba(255,255,255,.14);
      color: rgba(255,255,255,.92);
      transition: border-color .16s cubic-bezier(.2,.8,.2,1), box-shadow .16s cubic-bezier(.2,.8,.2,1);
    }

    .robot-bubble input[type="email"]::placeholder{
      color: rgba(255,255,255,.45);
    }

    .robot-bubble input[type="email"]:focus{
      outline: none;
      border-color: rgba(255,140,0,.82);
      box-shadow: 0 0 0 4px rgba(255,140,0,.18);
    }

    .robot-bubble button[type="submit"]{
      padding: 12px 16px;
      border-radius: 12px;
      border: none;
      cursor: pointer;
      font-weight: 850;
      color: #0f172a;
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      box-shadow: 0 14px 34px rgba(255,140,0,.18);
      transition: transform .16s cubic-bezier(.2,.8,.2,1), box-shadow .16s cubic-bezier(.2,.8,.2,1);
      width: auto;
    }

    .robot-bubble button[type="submit"]:hover{
      transform: translateY(-1px);
      box-shadow: 0 18px 40px rgba(255,140,0,.26);
    }

    .robot-actions{
      display:flex;
      justify-content: flex-end;
      margin-top: 10px;
    }

    .robot-later{
      background: transparent;
      border: 1px solid rgba(255,255,255,.18);
      color: rgba(255,255,255,.80);
      padding: 9px 12px;
      border-radius: 12px;
      cursor: pointer;
      font-size: .9rem;
      transition: transform .16s cubic-bezier(.2,.8,.2,1), background .16s cubic-bezier(.2,.8,.2,1), border-color .16s cubic-bezier(.2,.8,.2,1);
    }
    .robot-later:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,.05);
      border-color: rgba(255,140,0,.30);
    }

    .robot-status{
      margin: 10px 0 0;
      font-size: .9rem;
      color: rgba(255,255,255,.75);
      min-height: 1.2em;
    }

    @media (max-width: 520px){
      .robot-cta-wrap{ left: 10px; bottom: 10px; gap: 10px; }
      .robot-avatar{ width: 82px; height: 82px; padding: 7px; }
      .robot-bubble{ width: min(92vw, 520px); }
      .robot-bubble form{ grid-template-columns: 1fr; }
      .robot-bubble button[type="submit"]{ width: 100%; }
      .robot-actions{ justify-content: stretch; }
      .robot-later{ width: 100%; text-align: center; }
    }

    @media (prefers-reduced-motion: reduce){
      .robot-avatar{ animation: none; }
      .robot-cta-wrap{ transition: none; }
    }
  </style>
</head>

<body>
  <header class="site-header">
    <div class="wrap header-inner">
      <a class="brand" href="index.html" aria-label="Core Tech Assist home">
        <img src="https://i.postimg.cc/CKMHbgmD/33a60556-f477-4da1-a492-a7239339ab14.png" alt="Core Tech Assist logo" />
        <div class="brand-text" aria-hidden="true">
          <div class="brand-name">Core Tech Assist ‚úäüèø Black &amp; Trans Owned | LGBTQ+ Friendly </div>
          <div class="brand-tag">Simple Tech. Real Support.</div>
        </div>
      </a>

      <button class="nav-toggle" type="button" aria-label="Open menu" aria-expanded="false">
        ‚ò∞
      </button>

      <nav class="nav" aria-label="Primary">
        <a href="index.html" class="active">Home</a>
        <a href="services.html" class="">Services</a>
        <a href="pricing.html" class="">Pricing</a>
        <a class="nav-cta" href="index.html#contact">Request Support</a>
      </nav>
    </div>

    <nav class="wrap mobile-nav" aria-label="Mobile">
      <a href="index.html" class="active">Home</a>
      <a href="services.html" class="">Services</a>
      <a href="pricing.html" class="">Pricing</a>
      <a class="nav-cta" href="index.html#contact">Request Support</a>
    </nav>
  </header>

  <main id="main">
    <section class="hero">
      <div class="wrap hero-grid">
        <div class="hero-card reveal">
          <div class="kicker"><span class="dot"></span>Local-minded support ‚Ä¢ Remote-friendly</div>
          <h1>Tech help that feels human and actually sticks.</h1>
          <p class="lead">
            I fix the stuff that wastes your time: slow computers, unstable Wi-Fi, "why won‚Äôt it print,"
            and websites that look fine on desktop but break on phones.
          </p>

          <div class="hero-actions">
            <a class="btn primary" href="#contact">Request Support</a>
            <a
              class="btn outline"
              href="https://calendly.com/cdwilliams0803/30min?hide_event_type_details=1&hide_gdpr_banner=1"
              target="_blank"
              rel="noopener noreferrer"
            >
              Book a free consult
            </a>
          </div>

          <div class="pills" aria-label="Quick points">
            <span class="pill">Clear next steps</span>
            <span class="pill">No confusing upsells</span>
            <span class="pill">Home + small business</span>
          </div>

          <!-- Removed: the big hero-robot image (replaced by subtle background robot watermark) -->
        </div>

        <aside class="hero-card hero-side reveal">
          <div class="kicker"><span class="dot"></span>What I handle</div>

          <div class="mini-grid">
            <div class="mini-card">
              <div class="mini-title">Hardware & performance</div>
              <p class="mini-sub">Diagnostics, upgrades, cleanup, and "why is it doing that?" fixes.</p>
            </div>
            <div class="mini-card">
              <div class="mini-title">Wi-Fi & networks</div>
              <p class="mini-sub">Coverage, stability, setup, and messy network cleanup.</p>
            </div>
            <div class="mini-card">
              <div class="mini-title">Website support</div>
              <p class="mini-sub">Mobile layout fixes, forms, updates, and front-end polish.</p>
            </div>
            <div class="mini-card">
              <div class="mini-title">Custom PC builds</div>
              <p class="mini-sub">Part selection, assembly, cable management, and testing.</p>
            </div>
          </div>
        </aside>
      </div>
    </section>

    <!-- (Everything else below is unchanged from your file) -->
    <!-- Services, How it works, Contact sections... -->

    <section class="section tight">
      <div class="wrap">
        <div class="section-head reveal">
          <div>
            <div class="kicker"><span class="dot"></span>Services</div>
            <h2 class="section-title">Pick the lane. I‚Äôll handle the rest.</h2>
            <p class="sub">A quick overview. Full details are on the Services page.</p>
          </div>
          <a class="btn" href="services.html">See all services ‚Üí</a>
        </div>

        <div class="grid-4">
          <article class="card reveal">
            <div class="tag">IT Support</div>
            <h3>Everyday tech fixes</h3>
            <p>Setup, installs, troubleshooting, and practical "make it work" support.</p>
            <a class="link" href="services.html#it">Details ‚Üí</a>
          </article>

          <article class="card reveal">
            <div class="tag">Hardware</div>
            <h3>Diagnostics & upgrades</h3>
            <p>Slow PC, overheating, SSD and RAM upgrades, and component troubleshooting.</p>
            <a class="link" href="services.html#hardware">Details ‚Üí</a>
          </article>

          <article class="card reveal">
            <div class="tag">Wi-Fi & Network</div>
            <h3>Stability + coverage</h3>
            <p>Router setup, mesh and extender planning, dead zones, and dropouts.</p>
            <a class="link" href="services.html#network">Details ‚Üí</a>
          </article>

          <article class="card reveal">
            <div class="tag">Web</div>
            <h3>Front-end support</h3>
            <p>Forms, broken layouts, speed wins, and mobile-first fixes.</p>
            <a class="link" href="services.html#web">Details ‚Üí</a>
          </article>
        </div>
      </div>
    </section>

    <section class="section">
      <div class="wrap">
        <div class="section-head reveal">
          <div>
            <div class="kicker"><span class="dot"></span>How it works</div>
            <h2 class="section-title">Fast, clean process. No mystery meat.</h2>
            <p class="sub">You always know what I‚Äôm doing, why I‚Äôm doing it, and what the options are.</p>
          </div>
        </div>

        <div class="grid-3">
          <article class="card soft reveal">
            <div class="tag">1 ‚Ä¢ Diagnose</div>
            <h3>Clarify the problem</h3>
            <p>We pin down symptoms, recent changes, and what "fixed" should look like.</p>
          </article>

          <article class="card soft reveal">
            <div class="tag">2 ‚Ä¢ Quote</div>
            <h3>Simple options</h3>
            <p>You get a clear plan and price range before anything serious starts.</p>
          </article>

          <article class="card soft reveal">
            <div class="tag">3 ‚Ä¢ Fix + explain</div>
            <h3>Resolve + prevent</h3>
            <p>I fix the issue and show you how to avoid the same trap next week.</p>
          </article>
        </div>
      </div>
    </section>

    <section class="section" id="contact">
      <div class="wrap">
        <div class="section-head reveal">
          <div>
            <div class="kicker"><span class="dot"></span>Contact</div>
            <h2 class="section-title">Request support</h2>
            <p class="sub">Send details below and I‚Äôll reply with next steps and options.</p>
          </div>
        </div>

        <div class="grid-1">
          <section class="card reveal">
            <h3>Tell me what‚Äôs going on</h3>
            <p class="sub">The more context you give, the faster the fix.</p>

            <form
              id="contactForm"
              action="https://formspree.io/f/xeeeqkew"
              method="POST"
              enctype="multipart/form-data"
            >
              <div class="form-row">
                <label for="name">Name</label>
                <input id="name" type="text" name="name" required autocomplete="name" />
              </div>

              <div class="form-row">
                <label for="email">Email</label>
                <input id="email" type="email" name="email" required autocomplete="email" />
              </div>

              <div class="form-row">
                <label for="issueType">Type of issue</label>
                <select id="issueType" name="issue_type" required>
                  <option value="" disabled selected>Select an issue type</option>
                  <option value="Hardware">Hardware</option>
                  <option value="Software">Software</option>
                  <option value="Network / Internet">Network / Internet</option>
                  <option value="Website">Website</option>
                  <option value="Other">Other</option>
                </select>
              </div>

              <div id="otherFields" class="conditional" style="display:none">
                <div class="form-row">
                  <label for="otherType">Other: choose one</label>
                  <select id="otherType" name="other_type">
                    <option value="" disabled selected>Select one</option>
                    <option value="Custom PC Build">Custom PC Build</option>
                    <option value="General Tech Question">General Tech Question</option>
                    <option value="Account / Login Help">Account / Login Help</option>
                    <option value="Other">Other (describe in message)</option>
                  </select>
                  <p class="small">Pick a category so I can route your request faster.</p>
                </div>
              </div>

              <div id="hardwareFields" class="conditional" style="display:none">
                <div class="form-row">
                  <label>If hardware-related, what device?</label>
                  <input type="text" name="hardware_device" placeholder="Example: Laptop, desktop PC, printer" />
                </div>
              </div>

              <div id="softwareFields" class="conditional" style="display:none">
                <div class="form-row">
                  <label>If software-related, what software/app?</label>
                  <input type="text" name="software_name" placeholder="Example: Windows 11, Outlook, QuickBooks, Chrome" />
                </div>
                <div class="form-row">
                  <label>What happens (error message / symptoms)?</label>
                  <input type="text" name="software_symptoms" placeholder='Example: "App won‚Äôt open", "Error code 0x..."' />
                </div>
              </div>

              <div id="websiteFields" class="conditional" style="display:none">
                <div class="form-row">
                  <label>If website-related, what is the website URL?</label>
                  <input type="url" name="website_url" placeholder="https://yourwebsite.com" />
                </div>
                <div class="form-row">
                  <label>What issue are you seeing?</label>
                  <input type="text" name="website_issue" placeholder="Example: Site down, broken button, images not loading" />
                </div>
              </div>

              <div id="pcBuildFields" class="conditional" style="display:none">
                <div class="form-row">
                  <label>Custom PC Build: what is the build for?</label>
                  <input type="text" name="pc_build_purpose" placeholder="Gaming, work, streaming, school, etc." />
                </div>
                <div class="form-row">
                  <label>Budget range (optional)</label>
                  <input type="text" name="pc_build_budget" placeholder="Example: $800‚Äì$1200" />
                </div>
                <div class="form-row">
                  <label>Do you already own any parts? (optional)</label>
                  <input type="text" name="pc_build_existing_parts" placeholder="Example: GPU, case, SSD, none" />
                </div>
              </div>

              <div class="form-row">
                <label>Upload a photo or file (optional)</label>
                <input type="file" name="attachment" accept=".png,.jpg,.jpeg,.pdf,.txt" />
                <p class="small">Allowed: JPG/PNG, PDF, TXT.</p>
              </div>

              <div class="form-row">
                <label for="message">Message</label>
                <textarea id="message" name="message" rows="6" required placeholder="What‚Äôs the device? What changed recently? What do you want it to do?"></textarea>
              </div>

              <label class="checkbox">
                <input id="agree" type="checkbox" name="agree" />
                <span>
                  I have read and agree to the
                  <a href="https://pub-a468b6ba9d35419ebd9f52ae82e2feae.r2.dev/C_Tech_Assist_IT_Service_Agreement_FINAL_OVERLAY.pdf" target="_blank" rel="noopener noreferrer">
                    Core Tech Assist Service Agreement
                  </a>.
                </span>
              </label>

              <button id="submitBtn" type="submit" disabled>Send message</button>

              <p class="small" style="margin-top:10px;">
                If your browser blocks cross-site form posts, use the consult link instead.
              </p>

              <input type="hidden" name="_subject" value="New message from C Tech Assist website" />
            </form>
          </section>
        </div>
      </div>
    </section>
  </main>

  <!-- =====================================================
       ONLY POPUP: ROBOT SLIDE-IN
       ===================================================== -->
  <div id="robotCtaWrap" class="robot-cta-wrap" style="display:none;" aria-live="polite">
    <div class="robot-avatar" aria-hidden="true">
      <img
        src="https://i.postimg.cc/59HWWH8w/Favicon.png"
        alt=""
        loading="lazy"
      />
    </div>

    <div class="robot-bubble" role="dialog" aria-modal="false" aria-labelledby="robotTitle" aria-describedby="robotBody">
      <button class="robot-close" type="button" aria-label="Close" onclick="closeRobotCTA()">√ó</button>

      <h3 id="robotTitle">Join the Core Tech Family!</h3>
      <p id="robotBody">
        Sign up for our mailing list and get <strong>10% off</strong> any new service or a refurbished item purchase.
      </p>

      <form id="robotForm" action="https://formspree.io/f/xeeeqkew" method="POST">
        <label class="sr-only" for="robotEmail">Email address</label>
        <input
          type="email"
          name="email"
          id="robotEmail"
          placeholder="you@example.com"
          required
          autocomplete="email"
          inputmode="email"
        />
        <input type="hidden" name="source" value="Robot Slide-In Popup" />
        <input type="hidden" name="_subject" value="New Mailing List Signup (Robot Popup)" />
        <button type="submit">Subscribe</button>
      </form>

      <div class="robot-actions">
        <button type="button" class="robot-later" onclick="closeRobotCTA(true)">Maybe later</button>
      </div>

      <p id="robotStatus" class="robot-status" aria-live="polite"></p>
    </div>
  </div>

  <script src="https://assets.calendly.com/assets/external/widget.js" async></script>

  <script>
    /* Agreement checkbox -> enable submit button only when checked */
    (function () {
      const agree = document.getElementById('agree');
      const submitBtn = document.getElementById('submitBtn');
      if (!agree || !submitBtn) return;
      function sync() { submitBtn.disabled = !agree.checked; }
      agree.addEventListener('change', sync);
      sync();
    })();

    /* Conditional fields (includes nested 'Other' submenu behavior) */
    (function () {
      const issueType = document.getElementById('issueType');
      const otherType = document.getElementById('otherType');

      const otherFields = document.getElementById('otherFields');
      const hardwareFields = document.getElementById('hardwareFields');
      const softwareFields = document.getElementById('softwareFields');
      const websiteFields = document.getElementById('websiteFields');
      const pcBuildFields = document.getElementById('pcBuildFields');

      if (!issueType) return;

      function hideAll() {
        [otherFields, hardwareFields, softwareFields, websiteFields, pcBuildFields].forEach(el => {
          if (el) el.style.display = 'none';
        });
      }

      function syncFields() {
        hideAll();
        const type = issueType.value;

        if (type === 'Other' && otherFields) {
          otherFields.style.display = 'block';
          const otherValue = (otherType && otherType.value) ? otherType.value : '';
          if (otherValue === 'Custom PC Build' && pcBuildFields) pcBuildFields.style.display = 'block';
          return;
        }

        if (type === 'Hardware' && hardwareFields) hardwareFields.style.display = 'block';
        if (type === 'Software' && softwareFields) softwareFields.style.display = 'block';
        if (type === 'Website' && websiteFields) websiteFields.style.display = 'block';
      }

      issueType.addEventListener('change', syncFields);
      if (otherType) otherType.addEventListener('change', syncFields);

      hideAll();
      syncFields();
    })();

    /* Mobile menu toggle */
    (function(){
      const btn = document.querySelector('.nav-toggle');
      const mobile = document.querySelector('.mobile-nav');
      if(!btn || !mobile) return;
      function set(open){
        btn.setAttribute('aria-expanded', String(open));
        mobile.style.display = open ? 'block' : 'none';
      }
      set(false);
      btn.addEventListener('click', ()=> {
        const open = btn.getAttribute('aria-expanded') === 'true';
        set(!open);
      });
    })();

    /* Scroll reveal */
    (function(){
      const els = Array.from(document.querySelectorAll('.reveal'));
      if(!('IntersectionObserver' in window) || els.length===0) {
        els.forEach(el=>el.classList.add('is-visible'));
        return;
      }
      const io = new IntersectionObserver((entries)=>{
        for(const e of entries){
          if(e.isIntersecting){
            e.target.classList.add('is-visible');
            io.unobserve(e.target);
          }
        }
      }, { threshold: 0.12 });
      els.forEach(el=>io.observe(el));
    })();

    /* =====================================================
       Robot Slide-In Popup behavior (ONLY POPUP)
       - show after 3 seconds
       - Maybe later / X closes for this session
       - Subscribe stores localStorage so it never shows again
       ===================================================== */
    function closeRobotCTA(){
      const wrap = document.getElementById('robotCtaWrap');
      if(!wrap) return;

      wrap.classList.remove('open');

      try { sessionStorage.setItem('robotClosed_session_v1', 'true'); } catch(e) {}

      setTimeout(()=> { wrap.style.display = 'none'; }, 350);
    }

    document.addEventListener('DOMContentLoaded', function(){
      const wrap = document.getElementById('robotCtaWrap');
      const form = document.getElementById('robotForm');
      const email = document.getElementById('robotEmail');
      const status = document.getElementById('robotStatus');

      if(!wrap || !form) return;

      const SUB_KEY = 'robotSubscribed_v1';
      const CLOSED_SESSION_KEY = 'robotClosed_session_v1';

      function isSubscribed(){
        try { return localStorage.getItem(SUB_KEY) === 'true'; } catch(e){ return false; }
      }
      function setSubscribed(){
        try { localStorage.setItem(SUB_KEY, 'true'); } catch(e){}
      }
      function wasClosedThisSession(){
        try { return sessionStorage.getItem(CLOSED_SESSION_KEY) === 'true'; } catch(e){ return false; }
      }

      // start hidden
      wrap.style.display = 'none';

      // show after 3s if allowed
      if(!isSubscribed() && !wasClosedThisSession()){
        setTimeout(function(){
          wrap.style.display = 'flex';
          requestAnimationFrame(()=> wrap.classList.add('open'));
        }, 3000);
      }

      // submit without redirect
      form.addEventListener('submit', async function(e){
        e.preventDefault();
        if(status) status.textContent = '';

        const val = (email && email.value) ? email.value.trim() : '';
        const ok = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(val);
        if(!ok){
          if(status) status.textContent = 'Please enter a valid email address.';
          if(email) email.focus();
          return;
        }

        const btn = form.querySelector('button[type="submit"]');
        const oldText = btn ? btn.textContent : '';
        if(btn){ btn.disabled = true; btn.textContent = 'Submitting‚Ä¶'; }

        try{
          const res = await fetch(form.action, {
            method: 'POST',
            headers: { 'Accept': 'application/json' },
            body: new FormData(form)
          });

          if(res.ok){
            if(status) status.textContent = 'Thanks! Check your inbox for your 10% coupon.';
            setSubscribed();
            try { sessionStorage.setItem(CLOSED_SESSION_KEY, 'true'); } catch(e){}
            form.reset();
            setTimeout(()=> closeRobotCTA(), 1400);
          } else {
            if(status) status.textContent = 'Something went wrong. Please try again.';
          }
        } catch(err){
          if(status) status.textContent = 'Network error. Please try again.';
        } finally {
          if(btn){ btn.disabled = false; btn.textContent = oldText; }
        }
      });
    });
  </script>

  <footer class="site-footer">
    <div class="wrap footer-inner">
      <div><strong>¬© 2026 Core Tech Assist</strong> <span style="color:var(--muted)">‚Äî IT Support ‚Ä¢ Hardware ‚Ä¢ Builds ‚Ä¢ Web</span></div>
      <div class="footer-links">
        <a href="services.html">Services</a>
        <a href="pricing.html">Pricing</a>
        <a href="index.html#contact">Contact</a>
      </div>
    </div>
  </footer>
</body>
</html>
